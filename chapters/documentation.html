

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Documentation &mdash; How to make a python package 0.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'0.0.1',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="matpy API" href="API.html" />
    <link rel="prev" title="Logging" href="logging.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../contents.html" class="icon icon-home"> How to make a python package
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="unittesting.html">Unit Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="logging.html">Logging</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#pre-setup-rambling">Pre-Setup-Rambling</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setting-up-sphinx">Setting up Sphinx</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#conf-py"><code class="docutils literal notranslate"><span class="pre">conf.py</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#index-rst"><code class="docutils literal notranslate"><span class="pre">index.rst</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#api">API</a></li>
<li class="toctree-l3"><a class="reference internal" href="#offline-docs">Offline Docs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#readthedocs">ReadTheDocs</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="API.html"><code class="docutils literal notranslate"><span class="pre">matpy</span></code> API</a></li>
<li class="toctree-l1"><a class="reference internal" href="pypi.html">Distributing your package</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../contents.html">How to make a python package</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../contents.html">Docs</a> &raquo;</li>
        
      <li>Documentation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/chapters/documentation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="documentation">
<h1>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h1>
<p>Everyone should want their code documented. The simple reason for that is
that nobody will be able to use your code of there is no documentation. So,
let’s get started.</p>
<div class="section" id="pre-setup-rambling">
<h2>Pre-Setup-Rambling<a class="headerlink" href="#pre-setup-rambling" title="Permalink to this headline">¶</a></h2>
<p>First of all, all documentation in for Python code is written in
ReStructuredText, short: <code class="docutils literal notranslate"><span class="pre">RST</span></code>. It is extremely similar to Markdown, but it
has a few advantages when it comes to writing longer documentation. For example,
if you want to write so much documentation that the it’s easier to split
things up into chapter, you can simply include chapter files into a main file
(much like in LateX), which is not possible using Markdown. But this is just
one of the perks. When you start working with sphinx you will start noticing
the subtle and the obvious differences between <code class="docutils literal notranslate"><span class="pre">RST</span></code> and <code class="docutils literal notranslate"><span class="pre">Markdown</span></code>.</p>
</div>
<div class="section" id="setting-up-sphinx">
<h2>Setting up Sphinx<a class="headerlink" href="#setting-up-sphinx" title="Permalink to this headline">¶</a></h2>
<p>Let’s say you have created your <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">environment</span></code> using the
<code class="docutils literal notranslate"><span class="pre">environment.yml</span></code> that was provided with the sample package. In your own
package directory create a docs subdirectory just as in the <code class="docutils literal notranslate"><span class="pre">htmapp</span></code>
repository and <code class="docutils literal notranslate"><span class="pre">cd</span></code> into it</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Provided you are in your package repo</span>
$ mkdir docs <span class="o">&amp;&amp;</span> <span class="nb">cd</span> docs
</pre></div>
</div>
<p>Then,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sphinx-quickstart
</pre></div>
</div>
<p>will guide you through the initialization process of creating sphinx structure.</p>
<p>As you may have noticed a bunch of files were generated in the docs directory.
The most important ones are: <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">index.rst</span></code>. The latter can be
thought of as <code class="docutils literal notranslate"><span class="pre">main.tex</span></code> for LateX documents. The former is a configuration
file that defines any modifications for the way the documents are created.</p>
<div class="section" id="conf-py">
<h3><code class="docutils literal notranslate"><span class="pre">conf.py</span></code><a class="headerlink" href="#conf-py" title="Permalink to this headline">¶</a></h3>
<p>To be able to actually document the code and make the final html look nice, a
few lines in <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> have to changed. The lines that are changed are
shown below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>

<span class="n">extensions</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sphinx.ext.autodoc&#39;</span><span class="p">,</span>
              <span class="s1">&#39;sphinx.ext.viewcode&#39;</span><span class="p">,</span>
<span class="o">...</span>
<span class="n">autoclass_content</span> <span class="o">=</span> <span class="s1">&#39;both&#39;</span>
<span class="o">...</span>

<span class="n">html_theme</span> <span class="o">=</span> <span class="s1">&#39;sphinx_rtd_theme&#39;</span>

<span class="o">...</span>
</pre></div>
</div>
<p>The extensions enable the possibility on auto documenting your code, meaning
the docstrings of your functions and classes are gonna be read and added when
the <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">auto-module</span></code> directive is called. <code class="docutils literal notranslate"><span class="pre">autoclass_content</span> <span class="pre">=</span> <span class="pre">'both'</span></code>
makes sure that when a class is documented in your code the <code class="docutils literal notranslate"><span class="pre">__init__</span></code> part
will be documented as well. Finally, the <code class="docutils literal notranslate"><span class="pre">sphinx_rtd_theme</span></code> is simply nice
to look at. There are other themes out there. But I just like this one.</p>
</div>
<div class="section" id="index-rst">
<h3><code class="docutils literal notranslate"><span class="pre">index.rst</span></code><a class="headerlink" href="#index-rst" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">index.rst</span></code> is used to control the content in your documentation.
Usually this is done by the so-called <code class="docutils literal notranslate"><span class="pre">toctree</span></code> directive (table of
contents tree), which allows us to include files so that not the complete
documentation has to be written in one file. A standard file (the one of this
documentation) looks as follows:</p>
<div class="highlight-rst notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="gh">How to make a python package</span>
<span class="gh">============================</span>

This is hopefully helpful, to someone, somewhere who struggled with the same
stuff that I struggled with...

The whole documentation is referring to the following Github repository:
<span class="s">`how_to_make_a_python_package </span><span class="si">&lt;https://github.com/lsawade/how_to_make_a_python_package&gt;</span><span class="s">`_</span>

<span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:maxdepth:</span> 2
   <span class="nc">:caption:</span> Contents:

   chapters/introduction
   chapters/installation
   chapters/unittesting
   chapters/logging
   chapters/documentation
   chapters/API
   chapters/pypi



<span class="gh">Indices and tables</span>
<span class="gh">==================</span>

<span class="m">*</span> <span class="na">:ref:</span><span class="nv">`genindex`</span>
<span class="m">*</span> <span class="na">:ref:</span><span class="nv">`modindex`</span>
<span class="m">*</span> <span class="na">:ref:</span><span class="nv">`search`</span>
</pre></div>
</td></tr></table></div>
<p>This way, we can write a very user-friendly structured documentation.</p>
</div>
<div class="section" id="api">
<h3>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h3>
<p>There’s one step involved in making the documentation “automatic”. We need
some file to actually call in the “docstrings” from the package files. The
usual way of doing this is to have a function library at the end of your
documentation. Here, it is also the last section: <a class="reference internal" href="API.html#api-label"><span class="std std-ref">matpy API</span></a>. The
source file is very simple:</p>
<div class="highlight-rst notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="nt">_api-label:</span>

<span class="gh">``matpy`` API</span>
<span class="gh">-------------</span>

<span class="gh">Matrix multiplication</span>
<span class="gh">+++++++++++++++++++++</span>

<span class="p">..</span> <span class="ow">automodule</span><span class="p">::</span> matpy.matrixmultiplication
    <span class="nc">:members:</span>
    <span class="nc">:show-inheritance:</span>

<span class="gh">Logging Utility</span>
<span class="gh">+++++++++++++++++++++</span>

<span class="p">..</span> <span class="ow">automodule</span><span class="p">::</span> matpy.log_util
    <span class="nc">:members:</span>
    <span class="nc">:show-inheritance:</span>

<span class="gh">Testing</span>
<span class="gh">+++++++</span>

<span class="gh">Matrix Multiplication</span>
<span class="gh">=====================</span>

<span class="p">..</span> <span class="ow">automodule</span><span class="p">::</span> tests.test_matmul_and_dot
    <span class="nc">:members:</span>
    <span class="nc">:show-inheritance:</span>
</pre></div>
</td></tr></table></div>
<p>As you can see, we have exactly one <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">automodule::</span></code> per python module
(file). The cool thing about this is that we don’t have to
change the actual reference to the function or even write manual
documentation on the side. When the functions in the package are updated, so
will the documentation.</p>
</div>
<div class="section" id="offline-docs">
<h3>Offline Docs<a class="headerlink" href="#offline-docs" title="Permalink to this headline">¶</a></h3>
<p>To create either the <code class="docutils literal notranslate"><span class="pre">pdf</span></code> or the <code class="docutils literal notranslate"><span class="pre">html</span></code> files, simply cd into the
<code class="docutils literal notranslate"><span class="pre">docs</span></code> directory and</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># For PDF</span>
make pdf

<span class="c1"># For HTML</span>
make html
</pre></div>
</div>
<p>The built files can then be found in <code class="docutils literal notranslate"><span class="pre">docs/build/pdf</span></code> or <code class="docutils literal notranslate"><span class="pre">docs/build/html</span></code>.
The pdf, I assume, you can find yourself, but if you want to open the <code class="docutils literal notranslate"><span class="pre">html</span></code>
it’s the <code class="docutils literal notranslate"><span class="pre">index.html</span></code> file you want to open. It brings you directly to
offline webpage when opened.</p>
</div>
<div class="section" id="readthedocs">
<h3>ReadTheDocs<a class="headerlink" href="#readthedocs" title="Permalink to this headline">¶</a></h3>
<p>What’s nice about Python, Sphinx, and ReStructuredText that with a few simple
tricks your documentation is online. The key ingredient to make that happen
is the <code class="docutils literal notranslate"><span class="pre">.readthedocs.yml</span></code> file. This file tells the server what is
necessary to build your documentation and how to build it. Let’s take a look.</p>
<div class="highlight-yaml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># .readthedocs.yml</span>
<span class="c1"># Read the Docs configuration file</span>
<span class="c1"># See https://docs.readthedocs.io/en/stable/config-file/v2.html for details</span>

<span class="c1"># Build image</span>
<span class="nt">build</span><span class="p">:</span>
  <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">latest</span>

<span class="c1"># Required</span>
<span class="nt">version</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>

<span class="c1"># Build documentation in the docs/ directory with Sphinx</span>
<span class="nt">sphinx</span><span class="p">:</span>
    <span class="nt">configuration</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">docs/source/conf.py</span>

<span class="c1"># Optionally build your docs in additional formats such as PDF and ePub</span>
<span class="nt">formats</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">pdf</span><span class="p p-Indicator">]</span>

<span class="c1"># Setting up the conda environment</span>
<span class="nt">conda</span><span class="p">:</span>
  <span class="nt">environment</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">environment.yml</span>

<span class="c1"># Optionally set the version of Python and requirements required to build your docs</span>
<span class="nt">python</span><span class="p">:</span>
   <span class="nt">version</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3.7</span>
   <span class="nt">install</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pip</span>
        <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">.</span>
   <span class="nt">system_packages</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</td></tr></table></div>
<p>There are a few important steps here. The first entry in this file that needs
to be manually set is the <code class="docutils literal notranslate"><span class="pre">sphinx</span></code> keyword. The location of the conf.py
needs to be set in relation to the repository.The second one is the <code class="docutils literal notranslate"><span class="pre">formats</span></code>
keyword, which if you want <code class="docutils literal notranslate"><span class="pre">html</span></code>, <code class="docutils literal notranslate"><span class="pre">PDF</span></code> and <code class="docutils literal notranslate"><span class="pre">EPub</span></code> built and
donwloadable from the page, is simply ‘all’. Otherwise specify.
Much like for the installation and the unit testing we also need to specify the
<code class="docutils literal notranslate"><span class="pre">environment.yml</span></code> with the keywords <code class="docutils literal notranslate"><span class="pre">conda</span></code> and <code class="docutils literal notranslate"><span class="pre">environment</span></code>. Last but
not least, we have to define Python version and method of installation. In
this case, we’ll let <code class="docutils literal notranslate"><span class="pre">pip</span></code> do the job.</p>
<p>Having this things set, head over to <a class="reference external" href="https://readthedocs.org/">ReadTheDocs</a>
and log in. If you do not have an account there, I would suggest logging in
using your Github account. Then import the github repository. That should be
it since the <code class="docutils literal notranslate"><span class="pre">.readthedocs.yml</span></code> does all the configuring. Usually it takes
a bit until the build is done, but eventually you can click on the <code class="docutils literal notranslate"><span class="pre">View</span>
<span class="pre">Docs</span></code> button and your good to go.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="API.html" class="btn btn-neutral float-right" title="matpy API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="logging.html" class="btn btn-neutral float-left" title="Logging" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Lucas Sawade

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>